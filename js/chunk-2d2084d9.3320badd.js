(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2084d9"],{a3e6:function(s){s.exports=JSON.parse('{"created_at":"2022-01-19T23:40:55+08:00","excerpt":"给定一个长度为 $n$ 的序列 $a$ 和数字 $k$，以及 $m$ 组询问，每组询问给出一个区间，求这个区间里面有多少个子区间的异或值为 $k$。","html":"<p>给定一个长度为 <script type=\\"math/tex\\">n<\/script> 的序列 <script type=\\"math/tex\\">a<\/script> 和数字 <script type=\\"math/tex\\">k<\/script>，以及 <script type=\\"math/tex\\">m<\/script> 组询问，每组询问给出一个区间，求这个区间里面有多少个子区间的异或值为 <script type=\\"math/tex\\">k<\/script>。</p>\\n<p>\\n<script type=\\"math/tex\\">1 \\\\le n,m \\\\le 10 ^ 5<\/script>，<script type=\\"math/tex\\">0 \\\\le k,a_i \\\\le 10^6<\/script>，<script type=\\"math/tex\\">1 \\\\le l_i \\\\le r_i \\\\le n<\/script>。</p>\\n<h2 id=\\"input\\">Input</h2>\\n<p>The first line of the input contains integers <script type=\\"math/tex\\">n<\/script> , <script type=\\"math/tex\\">m<\/script> and <script type=\\"math/tex\\">k<\/script> (<script type=\\"math/tex\\">1\\\\le n,m\\\\le 100000<\/script>, <script type=\\"math/tex\\">0<=k<=1000000<\/script>) — the length of the array, the number of queries and Bob\'s favorite number respectively.</p>\\n<p>The second line contains <script type=\\"math/tex\\">n<\/script> integers <script type=\\"math/tex\\">a_{i}<\/script> (<script type=\\"math/tex\\">0 \\\\le a_{i} \\\\le 1000000<\/script>) — Bob\'s array.</p>\\n<p>Then <script type=\\"math/tex\\">m<\/script> lines follow. The <script type=\\"math/tex\\">i<\/script>-th line contains integers <script type=\\"math/tex\\">l_{i}<\/script> and <script type=\\"math/tex\\">r_{i}<\/script> (<script type=\\"math/tex\\">1\\\\le l_{i}\\\\le r_{i}\\\\le n<\/script>)  the parameters of the <script type=\\"math/tex\\">i<\/script>-th query.</p>\\n<h2 id=\\"output\\">Output</h2>\\n<p>Print <script type=\\"math/tex\\">m<\/script> lines, answer the queries in the order they appear in the input.</p>\\n<h2 id=\\"examples\\">Examples</h2>\\n<p>Input</p>\\n<table class=\\"codehilitetable\\"><tr><td class=\\"linenos\\"><div class=\\"linenodiv\\"><pre>1\\n2\\n3\\n4</pre></div></td><td class=\\"code\\"><div class=\\"codehilite\\"><pre><span></span><code>6 2 3\\n1 2 1 1 0 3\\n1 6\\n3 5\\n</code></pre></div>\\n</td></tr></table>\\n\\n<p>Output</p>\\n<table class=\\"codehilitetable\\"><tr><td class=\\"linenos\\"><div class=\\"linenodiv\\"><pre>1\\n2</pre></div></td><td class=\\"code\\"><div class=\\"codehilite\\"><pre><span></span><code>7\\n0\\n</code></pre></div>\\n</td></tr></table>\\n\\n<h2 id=\\"solution\\">Solution</h2>\\n<p>用前缀和的思想，将问题转化为，求区间中有多少对 <script type=\\"math/tex\\">s_i \\\\oplus s_j = k<\/script>。此式两边同时异或 <script type=\\"math/tex\\">s_i<\/script> 可得 <script type=\\"math/tex\\">s_j = s_i \\\\oplus k<\/script>，即添加元素 <script type=\\"math/tex\\">i<\/script> 时，查看有多少个 <script type=\\"math/tex\\">s_j<\/script> 满足此式，可用莫队算法求解</p>\\n<p>由于区间中的前缀和的个数为区间长度加一，初始化时 <script type=\\"math/tex\\">cnt[0]=1<\/script>\\n</p>\\n<table class=\\"codehilitetable\\"><tr><td class=\\"linenos\\"><div class=\\"linenodiv\\"><pre> 1\\n 2\\n 3\\n 4\\n 5\\n 6\\n 7\\n 8\\n 9\\n10\\n11\\n12\\n13\\n14\\n15\\n16\\n17\\n18\\n19\\n20\\n21\\n22\\n23\\n24\\n25\\n26\\n27\\n28\\n29\\n30\\n31\\n32\\n33\\n34\\n35\\n36\\n37\\n38\\n39\\n40\\n41\\n42\\n43\\n44\\n45\\n46\\n47\\n48\\n49\\n50</pre></div></td><td class=\\"code\\"><div class=\\"codehilite\\"><pre><span></span><code><span class=\\"cp\\">#include</span> <span class=\\"cpf\\">&lt;bits/stdc++.h&gt;</span><span class=\\"cp\\"></span>\\n<span class=\\"k\\">using</span> <span class=\\"k\\">namespace</span> <span class=\\"n\\">std</span><span class=\\"p\\">;</span>\\n<span class=\\"k\\">using</span> <span class=\\"n\\">ll</span> <span class=\\"o\\">=</span> <span class=\\"kt\\">long</span> <span class=\\"kt\\">long</span><span class=\\"p\\">;</span>\\n<span class=\\"k\\">const</span> <span class=\\"kt\\">int</span> <span class=\\"n\\">N</span> <span class=\\"o\\">=</span> <span class=\\"mf\\">1e5</span><span class=\\"o\\">+</span><span class=\\"mi\\">3</span><span class=\\"p\\">;</span>\\n<span class=\\"kt\\">int</span> <span class=\\"n\\">n</span><span class=\\"p\\">,</span> <span class=\\"n\\">m</span><span class=\\"p\\">,</span> <span class=\\"n\\">k</span><span class=\\"p\\">,</span> <span class=\\"n\\">a</span><span class=\\"p\\">[</span><span class=\\"n\\">N</span><span class=\\"p\\">],</span> <span class=\\"n\\">ps</span><span class=\\"p\\">[</span><span class=\\"n\\">N</span><span class=\\"p\\">];</span>\\n<span class=\\"kt\\">int</span> <span class=\\"n\\">bno</span><span class=\\"p\\">[</span><span class=\\"n\\">N</span><span class=\\"p\\">],</span> <span class=\\"n\\">cnt</span><span class=\\"p\\">[(</span><span class=\\"kt\\">int</span><span class=\\"p\\">)</span><span class=\\"mf\\">2e6</span><span class=\\"o\\">+</span><span class=\\"mi\\">3</span><span class=\\"p\\">];</span>\\n<span class=\\"n\\">ll</span> <span class=\\"n\\">ans</span><span class=\\"p\\">[</span><span class=\\"n\\">N</span><span class=\\"p\\">],</span> <span class=\\"n\\">c</span><span class=\\"p\\">;</span>\\n<span class=\\"k\\">struct</span> <span class=\\"n\\">Q</span> <span class=\\"p\\">{</span> <span class=\\"kt\\">int</span> <span class=\\"n\\">i</span><span class=\\"p\\">,</span> <span class=\\"n\\">l</span><span class=\\"p\\">,</span> <span class=\\"n\\">r</span><span class=\\"p\\">;</span> <span class=\\"p\\">}</span> <span class=\\"n\\">q</span><span class=\\"p\\">[</span><span class=\\"n\\">N</span><span class=\\"p\\">];</span>\\n\\n<span class=\\"kt\\">void</span> <span class=\\"nf\\">add</span><span class=\\"p\\">(</span><span class=\\"kt\\">int</span> <span class=\\"n\\">x</span><span class=\\"p\\">)</span> <span class=\\"p\\">{</span>\\n  <span class=\\"n\\">c</span> <span class=\\"o\\">+=</span> <span class=\\"n\\">cnt</span><span class=\\"p\\">[</span><span class=\\"n\\">x</span><span class=\\"o\\">^</span><span class=\\"n\\">k</span><span class=\\"p\\">];</span>\\n  <span class=\\"n\\">cnt</span><span class=\\"p\\">[</span><span class=\\"n\\">x</span><span class=\\"p\\">]</span> <span class=\\"o\\">++</span><span class=\\"p\\">;</span>\\n<span class=\\"p\\">}</span>\\n<span class=\\"kt\\">void</span> <span class=\\"nf\\">del</span><span class=\\"p\\">(</span><span class=\\"kt\\">int</span> <span class=\\"n\\">x</span><span class=\\"p\\">)</span> <span class=\\"p\\">{</span>\\n  <span class=\\"n\\">cnt</span><span class=\\"p\\">[</span><span class=\\"n\\">x</span><span class=\\"p\\">]</span> <span class=\\"o\\">--</span><span class=\\"p\\">;</span>\\n  <span class=\\"n\\">c</span> <span class=\\"o\\">-=</span> <span class=\\"n\\">cnt</span><span class=\\"p\\">[</span><span class=\\"n\\">x</span><span class=\\"o\\">^</span><span class=\\"n\\">k</span><span class=\\"p\\">];</span>\\n<span class=\\"p\\">}</span>\\n\\n<span class=\\"kt\\">int</span> <span class=\\"nf\\">main</span><span class=\\"p\\">()</span> <span class=\\"p\\">{</span>\\n  <span class=\\"n\\">scanf</span><span class=\\"p\\">(</span><span class=\\"s\\">&quot;%d%d%d&quot;</span><span class=\\"p\\">,</span> <span class=\\"o\\">&amp;</span><span class=\\"n\\">n</span><span class=\\"p\\">,</span> <span class=\\"o\\">&amp;</span><span class=\\"n\\">m</span><span class=\\"p\\">,</span> <span class=\\"o\\">&amp;</span><span class=\\"n\\">k</span><span class=\\"p\\">);</span>\\n  <span class=\\"k\\">for</span> <span class=\\"p\\">(</span><span class=\\"kt\\">int</span> <span class=\\"n\\">i</span> <span class=\\"o\\">=</span> <span class=\\"mi\\">1</span><span class=\\"p\\">;</span> <span class=\\"n\\">i</span> <span class=\\"o\\">&lt;=</span> <span class=\\"n\\">n</span><span class=\\"p\\">;</span> <span class=\\"n\\">i</span> <span class=\\"o\\">++</span><span class=\\"p\\">)</span> <span class=\\"p\\">{</span>\\n    <span class=\\"n\\">scanf</span><span class=\\"p\\">(</span><span class=\\"s\\">&quot;%d&quot;</span><span class=\\"p\\">,</span> <span class=\\"n\\">a</span><span class=\\"o\\">+</span><span class=\\"n\\">i</span><span class=\\"p\\">);</span>\\n    <span class=\\"n\\">ps</span><span class=\\"p\\">[</span><span class=\\"n\\">i</span><span class=\\"p\\">]</span> <span class=\\"o\\">=</span> <span class=\\"n\\">ps</span><span class=\\"p\\">[</span><span class=\\"n\\">i</span><span class=\\"o\\">-</span><span class=\\"mi\\">1</span><span class=\\"p\\">]</span> <span class=\\"o\\">^</span> <span class=\\"n\\">a</span><span class=\\"p\\">[</span><span class=\\"n\\">i</span><span class=\\"p\\">];</span>\\n  <span class=\\"p\\">}</span>\\n  <span class=\\"k\\">for</span> <span class=\\"p\\">(</span><span class=\\"kt\\">int</span> <span class=\\"n\\">i</span> <span class=\\"o\\">=</span> <span class=\\"mi\\">0</span><span class=\\"p\\">;</span> <span class=\\"n\\">i</span> <span class=\\"o\\">&lt;</span> <span class=\\"n\\">m</span><span class=\\"p\\">;</span> <span class=\\"n\\">i</span> <span class=\\"o\\">++</span><span class=\\"p\\">)</span> <span class=\\"p\\">{</span>\\n    <span class=\\"n\\">scanf</span><span class=\\"p\\">(</span><span class=\\"s\\">&quot;%d%d&quot;</span><span class=\\"p\\">,</span> <span class=\\"o\\">&amp;</span><span class=\\"n\\">q</span><span class=\\"p\\">[</span><span class=\\"n\\">i</span><span class=\\"p\\">].</span><span class=\\"n\\">l</span><span class=\\"p\\">,</span> <span class=\\"o\\">&amp;</span><span class=\\"n\\">q</span><span class=\\"p\\">[</span><span class=\\"n\\">i</span><span class=\\"p\\">].</span><span class=\\"n\\">r</span><span class=\\"p\\">);</span>\\n    <span class=\\"n\\">q</span><span class=\\"p\\">[</span><span class=\\"n\\">i</span><span class=\\"p\\">].</span><span class=\\"n\\">i</span> <span class=\\"o\\">=</span> <span class=\\"n\\">i</span><span class=\\"p\\">;</span>\\n  <span class=\\"p\\">}</span>\\n\\n  <span class=\\"kt\\">int</span> <span class=\\"n\\">bs</span> <span class=\\"o\\">=</span> <span class=\\"n\\">ceil</span><span class=\\"p\\">(</span><span class=\\"n\\">sqrt</span><span class=\\"p\\">(</span><span class=\\"n\\">n</span><span class=\\"p\\">));</span>\\n  <span class=\\"k\\">for</span> <span class=\\"p\\">(</span><span class=\\"kt\\">int</span> <span class=\\"n\\">i</span> <span class=\\"o\\">=</span> <span class=\\"mi\\">1</span><span class=\\"p\\">;</span> <span class=\\"n\\">i</span> <span class=\\"o\\">&lt;=</span> <span class=\\"n\\">n</span><span class=\\"p\\">;</span> <span class=\\"n\\">i</span> <span class=\\"o\\">++</span><span class=\\"p\\">)</span> <span class=\\"n\\">bno</span><span class=\\"p\\">[</span><span class=\\"n\\">i</span><span class=\\"p\\">]</span> <span class=\\"o\\">=</span> <span class=\\"p\\">(</span><span class=\\"n\\">i</span><span class=\\"o\\">-</span><span class=\\"mi\\">1</span><span class=\\"p\\">)</span><span class=\\"o\\">/</span><span class=\\"n\\">bs</span><span class=\\"p\\">;</span>\\n  <span class=\\"n\\">sort</span><span class=\\"p\\">(</span><span class=\\"n\\">q</span><span class=\\"p\\">,</span> <span class=\\"n\\">q</span><span class=\\"o\\">+</span><span class=\\"n\\">m</span><span class=\\"p\\">,</span> <span class=\\"p\\">[</span><span class=\\"o\\">&amp;</span><span class=\\"p\\">](</span><span class=\\"n\\">Q</span><span class=\\"o\\">&amp;</span> <span class=\\"n\\">a</span><span class=\\"p\\">,</span> <span class=\\"n\\">Q</span><span class=\\"o\\">&amp;</span> <span class=\\"n\\">b</span><span class=\\"p\\">)</span> <span class=\\"p\\">{</span>\\n    <span class=\\"k\\">return</span> <span class=\\"n\\">bno</span><span class=\\"p\\">[</span><span class=\\"n\\">a</span><span class=\\"p\\">.</span><span class=\\"n\\">l</span><span class=\\"p\\">]</span> <span class=\\"o\\">!=</span> <span class=\\"n\\">bno</span><span class=\\"p\\">[</span><span class=\\"n\\">b</span><span class=\\"p\\">.</span><span class=\\"n\\">l</span><span class=\\"p\\">]</span> <span class=\\"o\\">?</span> <span class=\\"n\\">bno</span><span class=\\"p\\">[</span><span class=\\"n\\">a</span><span class=\\"p\\">.</span><span class=\\"n\\">l</span><span class=\\"p\\">]</span> <span class=\\"o\\">&lt;</span> <span class=\\"n\\">bno</span><span class=\\"p\\">[</span><span class=\\"n\\">b</span><span class=\\"p\\">.</span><span class=\\"n\\">l</span><span class=\\"p\\">]</span><span class=\\"o\\">:</span> <span class=\\"n\\">bno</span><span class=\\"p\\">[</span><span class=\\"n\\">a</span><span class=\\"p\\">.</span><span class=\\"n\\">r</span><span class=\\"p\\">]</span> <span class=\\"o\\">&lt;</span> <span class=\\"n\\">bno</span><span class=\\"p\\">[</span><span class=\\"n\\">b</span><span class=\\"p\\">.</span><span class=\\"n\\">r</span><span class=\\"p\\">];</span>\\n  <span class=\\"p\\">});</span>\\n\\n  <span class=\\"kt\\">int</span> <span class=\\"n\\">l</span> <span class=\\"o\\">=</span> <span class=\\"mi\\">1</span><span class=\\"p\\">,</span> <span class=\\"n\\">r</span> <span class=\\"o\\">=</span> <span class=\\"mi\\">0</span><span class=\\"p\\">;</span>\\n  <span class=\\"n\\">cnt</span><span class=\\"p\\">[</span><span class=\\"mi\\">0</span><span class=\\"p\\">]</span> <span class=\\"o\\">=</span> <span class=\\"mi\\">1</span><span class=\\"p\\">;</span>\\n  <span class=\\"k\\">for</span> <span class=\\"p\\">(</span><span class=\\"kt\\">int</span> <span class=\\"n\\">i</span> <span class=\\"o\\">=</span> <span class=\\"mi\\">0</span><span class=\\"p\\">;</span> <span class=\\"n\\">i</span> <span class=\\"o\\">&lt;</span> <span class=\\"n\\">m</span><span class=\\"p\\">;</span> <span class=\\"n\\">i</span> <span class=\\"o\\">++</span><span class=\\"p\\">)</span> <span class=\\"p\\">{</span>\\n    <span class=\\"kt\\">int</span> <span class=\\"n\\">ql</span> <span class=\\"o\\">=</span> <span class=\\"n\\">q</span><span class=\\"p\\">[</span><span class=\\"n\\">i</span><span class=\\"p\\">].</span><span class=\\"n\\">l</span><span class=\\"p\\">,</span> <span class=\\"n\\">qr</span> <span class=\\"o\\">=</span> <span class=\\"n\\">q</span><span class=\\"p\\">[</span><span class=\\"n\\">i</span><span class=\\"p\\">].</span><span class=\\"n\\">r</span><span class=\\"p\\">,</span> <span class=\\"n\\">qi</span> <span class=\\"o\\">=</span> <span class=\\"n\\">q</span><span class=\\"p\\">[</span><span class=\\"n\\">i</span><span class=\\"p\\">].</span><span class=\\"n\\">i</span><span class=\\"p\\">;</span>\\n    <span class=\\"k\\">while</span> <span class=\\"p\\">(</span><span class=\\"n\\">l</span> <span class=\\"o\\">&lt;</span> <span class=\\"n\\">ql</span><span class=\\"p\\">)</span> <span class=\\"n\\">del</span><span class=\\"p\\">(</span><span class=\\"n\\">ps</span><span class=\\"p\\">[(</span><span class=\\"n\\">l</span><span class=\\"o\\">++</span><span class=\\"p\\">)</span><span class=\\"o\\">-</span><span class=\\"mi\\">1</span><span class=\\"p\\">]);</span>\\n    <span class=\\"k\\">while</span> <span class=\\"p\\">(</span><span class=\\"n\\">l</span> <span class=\\"o\\">&gt;</span> <span class=\\"n\\">ql</span><span class=\\"p\\">)</span> <span class=\\"n\\">add</span><span class=\\"p\\">(</span><span class=\\"n\\">ps</span><span class=\\"p\\">[(</span><span class=\\"o\\">--</span><span class=\\"n\\">l</span><span class=\\"p\\">)</span><span class=\\"o\\">-</span><span class=\\"mi\\">1</span><span class=\\"p\\">]);</span>\\n    <span class=\\"k\\">while</span> <span class=\\"p\\">(</span><span class=\\"n\\">r</span> <span class=\\"o\\">&lt;</span> <span class=\\"n\\">qr</span><span class=\\"p\\">)</span> <span class=\\"n\\">add</span><span class=\\"p\\">(</span><span class=\\"n\\">ps</span><span class=\\"p\\">[</span><span class=\\"o\\">++</span><span class=\\"n\\">r</span><span class=\\"p\\">]);</span>\\n    <span class=\\"k\\">while</span> <span class=\\"p\\">(</span><span class=\\"n\\">r</span> <span class=\\"o\\">&gt;</span> <span class=\\"n\\">qr</span><span class=\\"p\\">)</span> <span class=\\"n\\">del</span><span class=\\"p\\">(</span><span class=\\"n\\">ps</span><span class=\\"p\\">[</span><span class=\\"n\\">r</span><span class=\\"o\\">--</span><span class=\\"p\\">]);</span>\\n    <span class=\\"n\\">ans</span><span class=\\"p\\">[</span><span class=\\"n\\">qi</span><span class=\\"p\\">]</span> <span class=\\"o\\">=</span> <span class=\\"n\\">c</span><span class=\\"p\\">;</span>\\n  <span class=\\"p\\">}</span>\\n  <span class=\\"k\\">for</span> <span class=\\"p\\">(</span><span class=\\"kt\\">int</span> <span class=\\"n\\">i</span> <span class=\\"o\\">=</span> <span class=\\"mi\\">0</span><span class=\\"p\\">;</span> <span class=\\"n\\">i</span> <span class=\\"o\\">&lt;</span> <span class=\\"n\\">m</span><span class=\\"p\\">;</span> <span class=\\"n\\">i</span> <span class=\\"o\\">++</span><span class=\\"p\\">)</span>\\n    <span class=\\"n\\">printf</span><span class=\\"p\\">(</span><span class=\\"s\\">&quot;%lld</span><span class=\\"se\\">\\\\n</span><span class=\\"s\\">&quot;</span><span class=\\"p\\">,</span> <span class=\\"n\\">ans</span><span class=\\"p\\">[</span><span class=\\"n\\">i</span><span class=\\"p\\">]);</span>\\n\\n  <span class=\\"k\\">return</span> <span class=\\"mi\\">0</span><span class=\\"p\\">;</span>\\n<span class=\\"p\\">}</span>\\n</code></pre></div>\\n</td></tr></table>","tags":[{"name":"data structures","url":"/tags/data-structures"}],"title":"CF-617E XOR and Favorite Number","updated_at":"2022-01-19T23:40:55+08:00","url":"/docs/data-structures/mo/cf-617e"}')}}]);
//# sourceMappingURL=chunk-2d2084d9.3320badd.js.map