(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2161f9"],{c0b8:function(s){s.exports=JSON.parse('{"created_at":"2020-10-17T12:00:02+08:00","excerpt":"金明今天很开心，家里购置的新房就要领钥匙了，新房里有一间金明自己专用的很宽敞的房间。更让他高兴的是，妈妈昨天对他说：“你的房间需要购买哪些物品，怎么布置，你说了算，只要不超过 $n$ 元钱就行”。今天一早，金明就开始做预算了，他把想买的物品分为两类：主件与附件，附件是从属于某个主件的。","html":"<p>金明今天很开心，家里购置的新房就要领钥匙了，新房里有一间金明自己专用的很宽敞的房间。更让他高兴的是，妈妈昨天对他说：“你的房间需要购买哪些物品，怎么布置，你说了算，只要不超过 <script type=\\"math/tex\\">n<\/script> 元钱就行”。今天一早，金明就开始做预算了，他把想买的物品分为两类：主件与附件，附件是从属于某个主件的。</p>\\n<p>如果要买归类为附件的物品，必须先买该附件所属的主件。每个主件可以有 <script type=\\"math/tex\\">0<\/script> 个、<script type=\\"math/tex\\">1<\/script> 个或 <script type=\\"math/tex\\">2<\/script> 个附件。每个附件对应一个主件，附件不再有从属于自己的附件。金明想买的东西很多，肯定会超过妈妈限定的 <script type=\\"math/tex\\">n<\/script> 元。于是，他把每件物品规定了一个重要度，分为 <script type=\\"math/tex\\">5<\/script> 等：用整数 <script type=\\"math/tex\\">1 \\\\sim 5<\/script> 表示，第 <script type=\\"math/tex\\">5<\/script> 等最重要。他还从因特网上查到了每件物品的价格（都是 <script type=\\"math/tex\\">10<\/script> 元的整数倍）。他希望在不超过 <script type=\\"math/tex\\">n<\/script> 元的前提下，使每件物品的价格与重要度的乘积的总和最大。</p>\\n<p>设第 <script type=\\"math/tex\\">j<\/script> 件物品的价格为 <script type=\\"math/tex\\">v_j<\/script>，重要度为 <script type=\\"math/tex\\">w_j<\/script>，共选中了 <script type=\\"math/tex\\">k<\/script> 件物品，编号依次为 <script type=\\"math/tex\\">j_1,j_2,\\\\dots,j_k<\/script>，则所求的总和为：</p>\\n<p>\\n<script type=\\"math/tex; mode=display\\">\\nv_{j_1} \\\\times w_{j_1}+v_{j_2} \\\\times w_{j_2}+ \\\\dots +v_{j_k} \\\\times w_{j_k}\\n<\/script>\\n</p>\\n<p>请你帮助金明设计一个满足要求的购物单。</p>\\n<h2 id=\\"input\\">Input</h2>\\n<p>第一行有两个整数，分别表示总钱数 <script type=\\"math/tex\\">n<\/script> 和希望购买的物品个数 <script type=\\"math/tex\\">m<\/script>。</p>\\n<p>第 <script type=\\"math/tex\\">2<\/script> 到第 <script type=\\"math/tex\\">(m + 1)<\/script> 行，每行三个整数，第 <script type=\\"math/tex\\">(i + 1)<\/script> 行的整数 <script type=\\"math/tex\\">v_i, p_i, q_i<\/script> 分别表示第 <script type=\\"math/tex\\">i<\/script> 件物品的价格、重要度以及它对应的的主件。如果 <script type=\\"math/tex\\">q_i=0<\/script>，表示该物品本身是主件。</p>\\n<p>对于全部的测试点，保证 <script type=\\"math/tex\\">1 \\\\leq n \\\\leq 3.2 \\\\times 10^4, 1 \\\\leq m \\\\leq 60, 0 \\\\leq v_i \\\\leq 10^4, 1 \\\\leq p_i \\\\leq 5, 0 \\\\leq q_i \\\\leq m<\/script>，答案不超过 <script type=\\"math/tex\\">2 \\\\times 10^5<\/script>。</p>\\n<h2 id=\\"output\\">Output</h2>\\n<p>输出一行一个整数表示答案。</p>\\n<h2 id=\\"sample-input\\">Sample Input</h2>\\n<table class=\\"codehilitetable\\"><tr><td class=\\"linenos\\"><div class=\\"linenodiv\\"><pre>1\\n2\\n3\\n4\\n5\\n6</pre></div></td><td class=\\"code\\"><div class=\\"codehilite\\"><pre><span></span><code>1000 5\\n800 2 0\\n400 5 1\\n300 5 1\\n400 3 0\\n500 2 0\\n</code></pre></div>\\n</td></tr></table>\\n\\n<h2 id=\\"sample-output\\">Sample Output</h2>\\n<table class=\\"codehilitetable\\"><tr><td class=\\"linenos\\"><div class=\\"linenodiv\\"><pre>1</pre></div></td><td class=\\"code\\"><div class=\\"codehilite\\"><pre><span></span><code>2200\\n</code></pre></div>\\n</td></tr></table>\\n\\n<h2 id=\\"solution\\">Solution</h2>\\n<p>对于每个主件，由于附件数至多两个，可以直接进行组内枚举，按分组背包做即可，就是 01 背包最里面再套一个小循环。</p>\\n<table class=\\"codehilitetable\\"><tr><td class=\\"linenos\\"><div class=\\"linenodiv\\"><pre> 1\\n 2\\n 3\\n 4\\n 5\\n 6\\n 7\\n 8\\n 9\\n10\\n11\\n12\\n13\\n14\\n15\\n16\\n17\\n18\\n19\\n20\\n21\\n22\\n23\\n24\\n25\\n26\\n27\\n28\\n29\\n30\\n31\\n32\\n33\\n34\\n35\\n36\\n37\\n38\\n39\\n40\\n41\\n42\\n43\\n44</pre></div></td><td class=\\"code\\"><div class=\\"codehilite\\"><pre><span></span><code><span class=\\"cp\\">#include</span> <span class=\\"cpf\\">&lt;bits/stdc++.h&gt;</span><span class=\\"cp\\"></span>\\n<span class=\\"k\\">using</span> <span class=\\"k\\">namespace</span> <span class=\\"n\\">std</span><span class=\\"p\\">;</span>\\n\\n<span class=\\"k\\">const</span> <span class=\\"kt\\">int</span> <span class=\\"n\\">MAXN</span> <span class=\\"o\\">=</span> <span class=\\"mi\\">63</span><span class=\\"p\\">;</span>\\n<span class=\\"k\\">const</span> <span class=\\"kt\\">int</span> <span class=\\"n\\">MAXM</span> <span class=\\"o\\">=</span> <span class=\\"mf\\">4e4</span><span class=\\"p\\">;</span>\\n\\n<span class=\\"k\\">struct</span> <span class=\\"n\\">Item</span> <span class=\\"p\\">{</span>\\n  <span class=\\"kt\\">int</span> <span class=\\"n\\">i</span><span class=\\"p\\">,</span> <span class=\\"n\\">w</span><span class=\\"p\\">,</span> <span class=\\"n\\">c</span><span class=\\"p\\">;</span>\\n<span class=\\"p\\">}</span> <span class=\\"n\\">a</span><span class=\\"p\\">[</span><span class=\\"n\\">MAXN</span><span class=\\"p\\">],</span> <span class=\\"n\\">aa</span><span class=\\"p\\">[</span><span class=\\"n\\">MAXN</span><span class=\\"p\\">][</span><span class=\\"mi\\">5</span><span class=\\"p\\">],</span> <span class=\\"n\\">t</span><span class=\\"p\\">[</span><span class=\\"mi\\">5</span><span class=\\"p\\">];</span>\\n\\n<span class=\\"kt\\">int</span> <span class=\\"n\\">f</span><span class=\\"p\\">[</span><span class=\\"n\\">MAXM</span><span class=\\"p\\">];</span>\\n<span class=\\"kt\\">int</span> <span class=\\"n\\">al</span><span class=\\"p\\">,</span> <span class=\\"n\\">aal</span><span class=\\"p\\">[</span><span class=\\"n\\">MAXN</span><span class=\\"p\\">],</span> <span class=\\"n\\">tl</span><span class=\\"p\\">;</span>\\n\\n<span class=\\"kt\\">int</span> <span class=\\"nf\\">main</span><span class=\\"p\\">()</span> <span class=\\"p\\">{</span>\\n  <span class=\\"kt\\">int</span> <span class=\\"n\\">n</span><span class=\\"p\\">,</span> <span class=\\"n\\">m</span><span class=\\"p\\">;</span>\\n  <span class=\\"n\\">scanf</span><span class=\\"p\\">(</span><span class=\\"s\\">&quot;%d%d&quot;</span><span class=\\"p\\">,</span> <span class=\\"o\\">&amp;</span><span class=\\"n\\">n</span><span class=\\"p\\">,</span> <span class=\\"o\\">&amp;</span><span class=\\"n\\">m</span><span class=\\"p\\">);</span>\\n  <span class=\\"k\\">for</span> <span class=\\"p\\">(</span><span class=\\"kt\\">int</span> <span class=\\"n\\">i</span> <span class=\\"o\\">=</span> <span class=\\"mi\\">1</span><span class=\\"p\\">;</span> <span class=\\"n\\">i</span> <span class=\\"o\\">&lt;=</span> <span class=\\"n\\">m</span><span class=\\"p\\">;</span> <span class=\\"n\\">i</span> <span class=\\"o\\">++</span><span class=\\"p\\">)</span> <span class=\\"p\\">{</span>\\n    <span class=\\"kt\\">int</span> <span class=\\"n\\">v</span><span class=\\"p\\">,</span> <span class=\\"n\\">p</span><span class=\\"p\\">,</span> <span class=\\"n\\">q</span><span class=\\"p\\">;</span>\\n    <span class=\\"n\\">scanf</span><span class=\\"p\\">(</span><span class=\\"s\\">&quot;%d%d%d&quot;</span><span class=\\"p\\">,</span> <span class=\\"o\\">&amp;</span><span class=\\"n\\">v</span><span class=\\"p\\">,</span> <span class=\\"o\\">&amp;</span><span class=\\"n\\">p</span><span class=\\"p\\">,</span> <span class=\\"o\\">&amp;</span><span class=\\"n\\">q</span><span class=\\"p\\">);</span>\\n    <span class=\\"k\\">if</span> <span class=\\"p\\">(</span><span class=\\"n\\">q</span><span class=\\"p\\">)</span> <span class=\\"n\\">aa</span><span class=\\"p\\">[</span><span class=\\"n\\">q</span><span class=\\"p\\">][</span><span class=\\"n\\">aal</span><span class=\\"p\\">[</span><span class=\\"n\\">q</span><span class=\\"p\\">]</span><span class=\\"o\\">++</span><span class=\\"p\\">]</span> <span class=\\"o\\">=</span> <span class=\\"p\\">{</span><span class=\\"n\\">i</span><span class=\\"p\\">,</span> <span class=\\"n\\">v</span><span class=\\"p\\">,</span> <span class=\\"n\\">v</span><span class=\\"o\\">*</span><span class=\\"n\\">p</span><span class=\\"p\\">};</span>\\n    <span class=\\"k\\">else</span> <span class=\\"n\\">a</span><span class=\\"p\\">[</span><span class=\\"o\\">++</span><span class=\\"n\\">al</span><span class=\\"p\\">]</span> <span class=\\"o\\">=</span> <span class=\\"p\\">{</span><span class=\\"n\\">i</span><span class=\\"p\\">,</span> <span class=\\"n\\">v</span><span class=\\"p\\">,</span> <span class=\\"n\\">v</span><span class=\\"o\\">*</span><span class=\\"n\\">p</span><span class=\\"p\\">};</span>\\n  <span class=\\"p\\">}</span>\\n\\n  <span class=\\"k\\">for</span> <span class=\\"p\\">(</span><span class=\\"kt\\">int</span> <span class=\\"n\\">i</span> <span class=\\"o\\">=</span> <span class=\\"mi\\">1</span><span class=\\"p\\">;</span> <span class=\\"n\\">i</span> <span class=\\"o\\">&lt;=</span> <span class=\\"n\\">al</span><span class=\\"p\\">;</span> <span class=\\"n\\">i</span> <span class=\\"o\\">++</span><span class=\\"p\\">)</span> <span class=\\"p\\">{</span>\\n    <span class=\\"k\\">auto</span><span class=\\"o\\">&amp;</span> <span class=\\"n\\">p</span> <span class=\\"o\\">=</span> <span class=\\"n\\">a</span><span class=\\"p\\">[</span><span class=\\"n\\">i</span><span class=\\"p\\">],</span> <span class=\\"n\\">i1</span> <span class=\\"o\\">=</span> <span class=\\"n\\">aa</span><span class=\\"p\\">[</span><span class=\\"n\\">p</span><span class=\\"p\\">.</span><span class=\\"n\\">i</span><span class=\\"p\\">][</span><span class=\\"mi\\">0</span><span class=\\"p\\">],</span> <span class=\\"n\\">i2</span> <span class=\\"o\\">=</span> <span class=\\"n\\">aa</span><span class=\\"p\\">[</span><span class=\\"n\\">p</span><span class=\\"p\\">.</span><span class=\\"n\\">i</span><span class=\\"p\\">][</span><span class=\\"mi\\">1</span><span class=\\"p\\">];</span>\\n    <span class=\\"n\\">tl</span> <span class=\\"o\\">=</span> <span class=\\"mi\\">0</span><span class=\\"p\\">;</span>\\n    <span class=\\"n\\">t</span><span class=\\"p\\">[</span><span class=\\"n\\">tl</span><span class=\\"o\\">++</span><span class=\\"p\\">]</span> <span class=\\"o\\">=</span> <span class=\\"n\\">p</span><span class=\\"p\\">;</span>\\n    <span class=\\"k\\">if</span> <span class=\\"p\\">(</span><span class=\\"n\\">aal</span><span class=\\"p\\">[</span><span class=\\"n\\">p</span><span class=\\"p\\">.</span><span class=\\"n\\">i</span><span class=\\"p\\">]</span> <span class=\\"o\\">==</span> <span class=\\"mi\\">1</span><span class=\\"p\\">)</span>\\n      <span class=\\"n\\">t</span><span class=\\"p\\">[</span><span class=\\"n\\">tl</span><span class=\\"o\\">++</span><span class=\\"p\\">]</span> <span class=\\"o\\">=</span> <span class=\\"p\\">{</span><span class=\\"mi\\">0</span><span class=\\"p\\">,</span> <span class=\\"n\\">p</span><span class=\\"p\\">.</span><span class=\\"n\\">w</span> <span class=\\"o\\">+</span> <span class=\\"n\\">i1</span><span class=\\"p\\">.</span><span class=\\"n\\">w</span><span class=\\"p\\">,</span> <span class=\\"n\\">p</span><span class=\\"p\\">.</span><span class=\\"n\\">c</span> <span class=\\"o\\">+</span> <span class=\\"n\\">i1</span><span class=\\"p\\">.</span><span class=\\"n\\">c</span><span class=\\"p\\">};</span>\\n    <span class=\\"k\\">else</span> <span class=\\"k\\">if</span> <span class=\\"p\\">(</span><span class=\\"n\\">aal</span><span class=\\"p\\">[</span><span class=\\"n\\">p</span><span class=\\"p\\">.</span><span class=\\"n\\">i</span><span class=\\"p\\">]</span> <span class=\\"o\\">==</span> <span class=\\"mi\\">2</span><span class=\\"p\\">)</span> <span class=\\"p\\">{</span>\\n      <span class=\\"n\\">t</span><span class=\\"p\\">[</span><span class=\\"n\\">tl</span><span class=\\"o\\">++</span><span class=\\"p\\">]</span> <span class=\\"o\\">=</span> <span class=\\"p\\">{</span><span class=\\"mi\\">0</span><span class=\\"p\\">,</span> <span class=\\"n\\">p</span><span class=\\"p\\">.</span><span class=\\"n\\">w</span> <span class=\\"o\\">+</span> <span class=\\"n\\">i1</span><span class=\\"p\\">.</span><span class=\\"n\\">w</span><span class=\\"p\\">,</span> <span class=\\"n\\">p</span><span class=\\"p\\">.</span><span class=\\"n\\">c</span> <span class=\\"o\\">+</span> <span class=\\"n\\">i1</span><span class=\\"p\\">.</span><span class=\\"n\\">c</span><span class=\\"p\\">};</span>\\n      <span class=\\"n\\">t</span><span class=\\"p\\">[</span><span class=\\"n\\">tl</span><span class=\\"o\\">++</span><span class=\\"p\\">]</span> <span class=\\"o\\">=</span> <span class=\\"p\\">{</span><span class=\\"mi\\">0</span><span class=\\"p\\">,</span> <span class=\\"n\\">p</span><span class=\\"p\\">.</span><span class=\\"n\\">w</span> <span class=\\"o\\">+</span> <span class=\\"n\\">i2</span><span class=\\"p\\">.</span><span class=\\"n\\">w</span><span class=\\"p\\">,</span> <span class=\\"n\\">p</span><span class=\\"p\\">.</span><span class=\\"n\\">c</span> <span class=\\"o\\">+</span> <span class=\\"n\\">i2</span><span class=\\"p\\">.</span><span class=\\"n\\">c</span><span class=\\"p\\">};</span>\\n      <span class=\\"n\\">t</span><span class=\\"p\\">[</span><span class=\\"n\\">tl</span><span class=\\"o\\">++</span><span class=\\"p\\">]</span> <span class=\\"o\\">=</span> <span class=\\"p\\">{</span><span class=\\"mi\\">0</span><span class=\\"p\\">,</span> <span class=\\"n\\">p</span><span class=\\"p\\">.</span><span class=\\"n\\">w</span> <span class=\\"o\\">+</span> <span class=\\"n\\">i1</span><span class=\\"p\\">.</span><span class=\\"n\\">w</span><span class=\\"o\\">+</span><span class=\\"n\\">i2</span><span class=\\"p\\">.</span><span class=\\"n\\">w</span><span class=\\"p\\">,</span> <span class=\\"n\\">p</span><span class=\\"p\\">.</span><span class=\\"n\\">c</span> <span class=\\"o\\">+</span> <span class=\\"n\\">i1</span><span class=\\"p\\">.</span><span class=\\"n\\">c</span><span class=\\"o\\">+</span><span class=\\"n\\">i2</span><span class=\\"p\\">.</span><span class=\\"n\\">c</span><span class=\\"p\\">};</span>\\n    <span class=\\"p\\">}</span>\\n    <span class=\\"k\\">else</span> <span class=\\"n\\">assert</span><span class=\\"p\\">(</span><span class=\\"n\\">aal</span><span class=\\"p\\">[</span><span class=\\"n\\">p</span><span class=\\"p\\">.</span><span class=\\"n\\">i</span><span class=\\"p\\">]</span> <span class=\\"o\\">==</span> <span class=\\"mi\\">0</span><span class=\\"p\\">);</span>\\n\\n    <span class=\\"k\\">for</span> <span class=\\"p\\">(</span><span class=\\"kt\\">int</span> <span class=\\"n\\">j</span> <span class=\\"o\\">=</span> <span class=\\"n\\">n</span><span class=\\"p\\">;</span> <span class=\\"n\\">j</span> <span class=\\"o\\">&gt;=</span> <span class=\\"mi\\">0</span><span class=\\"p\\">;</span> <span class=\\"n\\">j</span> <span class=\\"o\\">--</span><span class=\\"p\\">)</span>\\n      <span class=\\"k\\">for</span> <span class=\\"p\\">(</span><span class=\\"kt\\">int</span> <span class=\\"n\\">k</span> <span class=\\"o\\">=</span> <span class=\\"mi\\">0</span><span class=\\"p\\">;</span> <span class=\\"n\\">k</span> <span class=\\"o\\">&lt;</span> <span class=\\"n\\">tl</span><span class=\\"p\\">;</span> <span class=\\"n\\">k</span> <span class=\\"o\\">++</span><span class=\\"p\\">)</span>\\n        <span class=\\"n\\">f</span><span class=\\"p\\">[</span><span class=\\"n\\">j</span><span class=\\"p\\">]</span> <span class=\\"o\\">=</span> <span class=\\"n\\">max</span><span class=\\"p\\">(</span><span class=\\"n\\">f</span><span class=\\"p\\">[</span><span class=\\"n\\">j</span><span class=\\"p\\">],</span> <span class=\\"n\\">j</span><span class=\\"o\\">-</span><span class=\\"n\\">t</span><span class=\\"p\\">[</span><span class=\\"n\\">k</span><span class=\\"p\\">].</span><span class=\\"n\\">w</span> <span class=\\"o\\">&gt;=</span> <span class=\\"mi\\">0</span> <span class=\\"o\\">?</span> <span class=\\"n\\">f</span><span class=\\"p\\">[</span><span class=\\"n\\">j</span><span class=\\"o\\">-</span><span class=\\"n\\">t</span><span class=\\"p\\">[</span><span class=\\"n\\">k</span><span class=\\"p\\">].</span><span class=\\"n\\">w</span><span class=\\"p\\">]</span> <span class=\\"o\\">+</span> <span class=\\"n\\">t</span><span class=\\"p\\">[</span><span class=\\"n\\">k</span><span class=\\"p\\">].</span><span class=\\"nl\\">c</span><span class=\\"p\\">:</span> <span class=\\"mi\\">0</span><span class=\\"p\\">);</span>\\n  <span class=\\"p\\">}</span>\\n  <span class=\\"n\\">printf</span><span class=\\"p\\">(</span><span class=\\"s\\">&quot;%d&quot;</span><span class=\\"p\\">,</span> <span class=\\"n\\">f</span><span class=\\"p\\">[</span><span class=\\"n\\">n</span><span class=\\"p\\">]);</span>\\n\\n  <span class=\\"k\\">return</span> <span class=\\"mi\\">0</span><span class=\\"p\\">;</span>\\n<span class=\\"p\\">}</span>\\n</code></pre></div>\\n</td></tr></table>","tags":[{"name":"dp","url":"/tags/dp"}],"title":"洛谷P1064 金明的预算方案","updated_at":"2020-10-17T12:00:02+08:00","url":"/docs/acm/dp/luogu-1064"}')}}]);
//# sourceMappingURL=chunk-2d2161f9.ad1f0211.js.map